<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Microservices Documentation Hub</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 2rem;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        color: white;
        margin-bottom: 3rem;
      }

      h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .subtitle {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
      }

      .card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s, box-shadow 0.2s;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
      }

      .card h2 {
        color: #667eea;
        font-size: 1.4rem;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .icon {
        font-size: 1.5rem;
      }

      .card p {
        color: #666;
        margin-bottom: 1rem;
        line-height: 1.5;
      }

      .links {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .link-btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.6rem 1rem;
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        text-decoration: none;
        color: #4a5568;
        font-size: 0.9rem;
        transition: all 0.2s;
      }

      .link-btn:hover {
        background: #667eea;
        color: white;
        border-color: #667eea;
      }

      .link-btn.primary {
        background: #667eea;
        color: white;
        border-color: #667eea;
        font-weight: 500;
      }

      .link-btn.primary:hover {
        background: #5568d3;
      }

      .status {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
        background: #48bb78;
        color: white;
      }

      .port {
        color: #718096;
        font-size: 0.85rem;
      }

      footer {
        text-align: center;
        color: white;
        margin-top: 3rem;
        opacity: 0.8;
        font-size: 0.9rem;
      }

      .section-title {
        color: white;
        font-size: 1.5rem;
        margin: 2rem 0 1rem 0;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üöÄ Microservices Documentation Hub</h1>
        <p class="subtitle">Elixir/Plug Microservices Architecture</p>
      </header>

      <h3 class="section-title">üìñ API Documentation</h3>
      <div class="grid">
        <div class="card">
          <h2><span class="icon">üìö</span> Redoc Viewer</h2>
          <p>
            Beautiful, modern API documentation with clean three-column layout
          </p>
          <div class="links">
            <a
              href="http://localhost:8080?url=specs/user_svc.yaml"
              class="link-btn primary"
              target="_blank"
            >
              üîµ User Service API
            </a>
            <a
              href="http://localhost:8080?url=specs/job_svc.yaml"
              class="link-btn primary"
              target="_blank"
            >
              üü¢ Job Service API
            </a>
            <a
              href="http://localhost:8080?url=specs/image_svc.yaml"
              class="link-btn primary"
              target="_blank"
            >
              üü° Image Service API
            </a>
            <a
              href="http://localhost:8080?url=specs/email_svc.yaml"
              class="link-btn primary"
              target="_blank"
            >
              üü£ Email Service API
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üß™</span> Swagger UI</h2>
          <p>Interactive API testing with "Try it out" functionality</p>
          <div class="links">
            <a
              href="http://localhost:8085"
              class="link-btn primary"
              target="_blank"
            >
              Open Swagger UI
            </a>
            <p style="margin-top: 0.5rem; font-size: 0.85rem">
              Use the dropdown to switch between services
            </p>
          </div>
        </div>
      </div>

      <h3 class="section-title">üéØ Microservices</h3>
      <div class="grid">
        <div class="card">
          <h2><span class="icon">üë§</span> User Service</h2>
          <p class="port">Port: 8081 | Main orchestrator</p>
          <p>
            User management, image conversion orchestration, and inter-service
            coordination
          </p>
          <div class="links">
            <a
              href="http://localhost:8081/health"
              class="link-btn"
              target="_blank"
            >
              ‚ù§Ô∏è Health Check
            </a>
            <a
              href="http://localhost:8081/metrics"
              class="link-btn"
              target="_blank"
            >
              üìä Prometheus Metrics
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">‚öôÔ∏è</span> Job Service</h2>
          <p class="port">Port: 8082 | Oban job queue</p>
          <p>
            Asynchronous job processing with Oban, SQLite persistence, and MinIO
            cleanup workers
          </p>
          <div class="links">
            <a
              href="http://localhost:8082/health"
              class="link-btn"
              target="_blank"
            >
              ‚ù§Ô∏è Health Check
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üìß</span> Email Service</h2>
          <p class="port">Port: 8083 | Email delivery</p>
          <p>Email sending via Swoosh with local/SMTP adapter support</p>
          <div class="links">
            <a
              href="http://localhost:8083/health"
              class="link-btn"
              target="_blank"
            >
              ‚ù§Ô∏è Health Check
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üñºÔ∏è</span> Image Service</h2>
          <p class="port">Port: 8084 | Image processing</p>
          <p>Image conversion and processing using ImageMagick</p>
          <div class="links">
            <a
              href="http://localhost:8084/health"
              class="link-btn"
              target="_blank"
            >
              ‚ù§Ô∏è Health Check
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üîå</span> Client Service</h2>
          <p class="port">Port: 4000 | Frontend gateway</p>
          <p>Client-facing service and demo endpoint for testing workflows</p>
          <div class="links">
            <a
              href="http://localhost:4000/health"
              class="link-btn"
              target="_blank"
            >
              ‚ù§Ô∏è Health Check
            </a>
          </div>
        </div>
      </div>

      <h3 class="section-title">üìä Observability Stack</h3>
      <div class="grid">
        <div class="card">
          <h2><span class="icon">üìà</span> Grafana</h2>
          <p class="port">Port: 3000 | Metrics & Logs Dashboard</p>
          <p>
            Unified visualization for Prometheus metrics, Loki logs, and Jaeger
            traces
          </p>
          <div class="links">
            <a
              href="http://localhost:3000"
              class="link-btn primary"
              target="_blank"
            >
              Open Grafana Dashboard
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üîç</span> Jaeger</h2>
          <p class="port">Port: 16686 | Distributed Tracing</p>
          <p>
            OpenTelemetry trace visualization and service dependency mapping
          </p>
          <div class="links">
            <a
              href="http://localhost:16686"
              class="link-btn primary"
              target="_blank"
            >
              Open Jaeger UI
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üìä</span> Prometheus</h2>
          <p class="port">Port: 9090 | Metrics Collection</p>
          <p>Time-series metrics database for service monitoring</p>
          <div class="links">
            <a
              href="http://localhost:9090"
              class="link-btn primary"
              target="_blank"
            >
              Open Prometheus UI
            </a>
            <a
              href="http://localhost:9090/targets"
              class="link-btn"
              target="_blank"
            >
              View Scrape Targets
            </a>
          </div>
        </div>

        <div class="card">
          <h2><span class="icon">üìù</span> Loki</h2>
          <p class="port">Port: 3100 | Log Aggregation</p>
          <p>
            Log aggregation system (like Prometheus but for logs) with MinIO
            storage backend
          </p>
          <div class="links">
            <a
              href="http://localhost:3100/ready"
              class="link-btn"
              target="_blank"
            >
              Readiness Check
            </a>
          </div>
        </div>
      </div>

      <h3 class="section-title">üíæ Infrastructure</h3>
      <div class="grid">
        <div class="card">
          <h2><span class="icon">ü™£</span> MinIO</h2>
          <p class="port">API: 9000 | Console: 9001 | Object Storage</p>
          <p>S3-compatible object storage for images, PDFs, and log chunks</p>
          <div class="links">
            <a
              href="http://localhost:9001"
              class="link-btn primary"
              target="_blank"
            >
              Open MinIO Console
            </a>
            <p style="margin-top: 0.5rem; font-size: 0.85rem">
              Login: <strong>minioadmin</strong> / <strong>minioadmin</strong>
            </p>
          </div>
        </div>
      </div>

      <footer>
        <p>üê≥ All services running via Docker Compose | üîß OrbStack</p>
        <p>Built with Elixir, Plug, Oban, OpenTelemetry, and ‚ù§Ô∏è</p>
      </footer>
    </div>
  </body>
</html>
